{"version":3,"sources":["smoothscroll.js"],"names":[],"mappings":"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","file":"../ts/smoothscroll.js","sourcesContent":["(function (root, smoothScroll) {\n  'use strict';\n\n  // Support RequireJS and CommonJS/NodeJS module formats.\n  // Attach smoothScroll to the `window` when executed as a <script>.\n\n  // RequireJS\n  if (typeof define === 'function' && define.amd) {\n    define(smoothScroll);\n\n  // CommonJS\n  } else if (typeof exports === 'object' && typeof module === 'object') {\n    module.exports = smoothScroll();\n\n  } else {\n    root.smoothScroll = smoothScroll();\n  }\n\n})(this, function(){\n'use strict';\n\n// Do not initialize smoothScroll when running server side, handle it in client:\nif (typeof window !== 'object') return;\n\n// We do not want this script to be applied in browsers that do not support those\n// That means no smoothscroll on IE9 and below.\nif(document.querySelectorAll === void 0 || window.pageYOffset === void 0 || history.pushState === void 0) { return; }\n\n// Get the top position of an element in the document\nvar getTop = function(element, start) {\n    // return value of html.getBoundingClientRect().top ... IE : 0, other browsers : -pageYOffset\n    if(element.nodeName === 'HTML') return -start\n    return element.getBoundingClientRect().top + start\n}\n// ease in out function thanks to:\n// http://blog.greweb.fr/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/\nvar easeInOutCubic = function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 }\n\n// calculate the scroll position we should be in\n// given the start and end point of the scroll\n// the time elapsed from the beginning of the scroll\n// and the total duration of the scroll (default 500ms)\nvar position = function(start, end, elapsed, duration) {\n    if (elapsed > duration) return end;\n    return start + (end - start) * easeInOutCubic(elapsed / duration); // <-- you can change the easing funtion there\n    // return start + (end - start) * (elapsed / duration); // <-- this would give a linear scroll\n}\n\n// we use requestAnimationFrame to be called by the browser before every repaint\n// if the first argument is an element then scroll to the top of this element\n// if the first argument is numeric then scroll to this location\n// if the callback exist, it is called when the scrolling is finished\n// if context is set then scroll that element, else scroll window\nvar smoothScroll = function(el, duration, callback, context){\n    duration = duration || 500;\n    context = context || window;\n    var start = context.scrollTop || window.pageYOffset;\n    const node =  document.getElementById(el);\n    var end = getTop(node, start);\n    \n    var clock = Date.now();\n    var requestAnimationFrame = window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n        function(fn){window.setTimeout(fn, 15);};\n\n    var step = function(){\n        var elapsed = Date.now() - clock;\n        if (context !== window) {\n          context.scrollTop = position(start, end, elapsed, duration);\n        }\n        else {\n          window.scroll(0, position(start, end, elapsed, duration));\n        }\n\n        if (elapsed > duration) {\n            if (typeof callback === 'function') {\n                callback(el);\n            }\n        } else {\n            requestAnimationFrame(step);\n        }\n    }\n    step();\n}\n\nvar linkHandler = function(ev) {\n    if (!ev.defaultPrevented) {\n        ev.preventDefault();\n\n        if (location.hash !== this.hash) window.history.pushState(null, null, this.hash)\n        // using the history api to solve issue #1 - back doesn't work\n        // most browser don't update :target when the history api is used:\n        // THIS IS A BUG FROM THE BROWSERS.\n        // change the scrolling duration in this call\n        var node = document.getElementById(this.hash.substring(1))\n        if (!node) return; // Do not scroll to non-existing node\n\n        smoothScroll(node, 500, function (el) {\n            location.replace('#' + el.id)\n            // this will cause the :target to be activated.\n        });\n    }\n}\n\n// We look for all the internal links in the documents and attach the smoothscroll function\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var internal = document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])'), a;\n    for(var i=internal.length; a=internal[--i];){\n        a.addEventListener(\"click\", linkHandler, false);\n    }\n});\n\n// return smoothscroll API\nreturn smoothScroll;\n\n});\n"]}